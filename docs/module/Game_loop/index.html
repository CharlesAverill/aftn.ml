<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Game_loop (AFTN.AFTN.Game_loop)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.4"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">AFTN</a> &#x00BB; <a href="../index.html">AFTN</a> &#x00BB; Game_loop</nav><header class="odoc-preamble"><h1>Module <code><span>AFTN.Game_loop</span></code></h1><p>Main game loop and player actions</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-setup_game"><a href="#val-setup_game" class="anchor"></a><code><span><span class="keyword">val</span> setup_game : <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Set up the game state given user preferences</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-update_objectives"><a href="#val-update_objectives" class="anchor"></a><code><span><span class="keyword">val</span> update_objectives : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>TODO : implement</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-action"><a href="#type-action" class="anchor"></a><code><span><span class="keyword">type</span> action</span><span> = </span></code><ol><li id="type-action.Move" class="def variant constructor anchored"><a href="#type-action.Move" class="anchor"></a><code><span>| </span><span><span class="constructor">Move</span></span></code></li><li id="type-action.PickUp" class="def variant constructor anchored"><a href="#type-action.PickUp" class="anchor"></a><code><span>| </span><span><span class="constructor">PickUp</span></span></code></li><li id="type-action.Drop" class="def variant constructor anchored"><a href="#type-action.Drop" class="anchor"></a><code><span>| </span><span><span class="constructor">Drop</span></span></code></li><li id="type-action.Ability" class="def variant constructor anchored"><a href="#type-action.Ability" class="anchor"></a><code><span>| </span><span><span class="constructor">Ability</span></span></code></li><li id="type-action.ViewInventory" class="def variant constructor anchored"><a href="#type-action.ViewInventory" class="anchor"></a><code><span>| </span><span><span class="constructor">ViewInventory</span></span></code></li><li id="type-action.ViewTeam" class="def variant constructor anchored"><a href="#type-action.ViewTeam" class="anchor"></a><code><span>| </span><span><span class="constructor">ViewTeam</span></span></code></li><li id="type-action.Craft" class="def variant constructor anchored"><a href="#type-action.Craft" class="anchor"></a><code><span>| </span><span><span class="constructor">Craft</span></span></code></li><li id="type-action.UseItem" class="def variant constructor anchored"><a href="#type-action.UseItem" class="anchor"></a><code><span>| </span><span><span class="constructor">UseItem</span></span></code></li><li id="type-action.GiveItem" class="def variant constructor anchored"><a href="#type-action.GiveItem" class="anchor"></a><code><span>| </span><span><span class="constructor">GiveItem</span></span></code></li><li id="type-action.EndTurn" class="def variant constructor anchored"><a href="#type-action.EndTurn" class="anchor"></a><code><span>| </span><span><span class="constructor">EndTurn</span></span></code></li><li id="type-action.ViewRoom" class="def variant constructor anchored"><a href="#type-action.ViewRoom" class="anchor"></a><code><span>| </span><span><span class="constructor">ViewRoom</span></span></code></li><li id="type-action.ViewCharacterLocations" class="def variant constructor anchored"><a href="#type-action.ViewCharacterLocations" class="anchor"></a><code><span>| </span><span><span class="constructor">ViewCharacterLocations</span></span></code></li><li id="type-action.SeeObjectives" class="def variant constructor anchored"><a href="#type-action.SeeObjectives" class="anchor"></a><code><span>| </span><span><span class="constructor">SeeObjectives</span></span></code></li><li id="type-action.DrawMap" class="def variant constructor anchored"><a href="#type-action.DrawMap" class="anchor"></a><code><span>| </span><span><span class="constructor">DrawMap</span></span></code></li><li id="type-action.Exit" class="def variant constructor anchored"><a href="#type-action.Exit" class="anchor"></a><code><span>| </span><span><span class="constructor">Exit</span></span></code></li></ol></div><div class="spec-doc"><p>Possible turn actions</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_action"><a href="#val-string_of_action" class="anchor"></a><code><span><span class="keyword">val</span> string_of_action : <span><a href="#type-action">action</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Get printable <code>string</code> representation of an <code>action</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-actions"><a href="#val-actions" class="anchor"></a><code><span><span class="keyword">val</span> actions : <span><a href="#type-action">action</a> list</span></span></code></div><div class="spec-doc"><p>List of actions to choose from</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-action_select_chars"><a href="#val-action_select_chars" class="anchor"></a><code><span><span class="keyword">val</span> action_select_chars : <span>char list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-character_move"><a href="#val-character_move" class="anchor"></a><code><span><span class="keyword">val</span> character_move : 
  <span><a href="../Character/index.html#type-character">Character.character</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Map/index.html#type-room">Map.room</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Map/index.html#type-room">Map.room</a> option</span></span></code></div><div class="spec-doc"><p>Prompt player for room to move to, then return it</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pickup"><a href="#val-pickup" class="anchor"></a><code><span><span class="keyword">val</span> pickup : <span><a href="../Character/index.html#type-character">Character.character</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Prompt player for item/scrap to pick up. If an item is selected, (true, Some item) is returned. If scrap is selected, (true, None) is returned. If nothing is selected, or nothing is able to be picked up, (false, None) is returned.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-view_inventory"><a href="#val-view_inventory" class="anchor"></a><code><span><span class="keyword">val</span> view_inventory : <span><a href="../Character/index.html#type-character">Character.character</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-drop"><a href="#val-drop" class="anchor"></a><code><span><span class="keyword">val</span> drop : <span><a href="../Character/index.html#type-character">Character.character</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-game_loop"><a href="#val-game_loop" class="anchor"></a><code><span><span class="keyword">val</span> game_loop : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Main game loop</p></div></div></div></body></html>
